<!-- Kria Lite WYSIWYG Editor (vanilla JS) -->
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
<script src="kria.editor.widget.js"></script>
<h2 style="font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 16px 0 8px; padding-left: env(safe-area-inset-left,0); padding-right: env(safe-area-inset-right,0);">Kria Lite WYSIWYG Editor</h2>
<textarea id="editor" class="wysiwyg" style="width: 100%; height: 320px; max-width: 100%;"></textarea>

<script>
  // Set page title for this demo
  try { document.title = 'Kria Lite WYSIWYG Editor'; } catch (e) {}

  WYSIWYG.init('.wysiwyg', {
    uploadUrl: '/wysiwyg/upload.php',
    uploadFieldName: 'image',
    uploadHeaders: { 'X-CSRF-Token': '...' },
    onUploadProgress: (percent, loaded, total, imgEl, instance) => {
      // optional: custom progress UI
      console.log('upload', percent);
    },
    autosaveKey: 'post-42-draft',
    parseUploadResponse: (json) => json && json.url // optional, default already handles common shapes
  });
</script>

